{% extends "../base/layout.html" %}
{% set tabActive = "dynamic-data" %}

{% block ngApp %}ng-app="terrama2.listDataSeries"{% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="/externals/bootstrap/css/bootstrap-datetimepicker.css">

<style type="text/css">
  .terrama2-filterboxes-align
  {
    display: inline-block;
    margin-left: calc(100% / 10);
  };

</style>
{% endblock %}

{% block title %} TerraMA2 {[ __('Dynamic Data Series') ]} {% endblock %}

{% block javascripts %}

<script type="text/javascript">
  var configuration = {
    model: [
      {
        name: "PCD1",
        type: "Pcd-Inpe"
      },
      {
        name: "GRID1",
        type: "Grid"
      },

      {
        name: "An_1",
        type: "Grid"
      },

      {
        name: "An_2",
        type: "Pcd"
      },
      {
        name: "An_3",
        type: "Monitored Object"
      }
    ],
    fields: ['name', 'type'],
    link: function(object) {
      return "/configuration/dataset?type=static#wizard";
    },
    iconFn: function(object) {
      switch(object.type) {
        case "Monitored Object":
          return "/images/monitored-object.png";
          break;
        case "Grid":
          return "/images/grid-small.png";
          break;
        default:
          return "/images/map-pin.png";
      }
    },
    iconProperties: {
      type: "img"
    }
  };

  configuration.linkToAdd = configuration.link({});

</script>

<script src="/externals/angular/angular.min.js"></script>
<script src="/externals/angular/i18n-angular.min.js"></script>
<script src="/javascripts/angular/app.js"></script>
<script src="/javascripts/angular/data-series/data-series.js"></script>
<script src="/javascripts/angular/table/table.js"></script>

{% endblock %}

{% block content %}
<div class="col-md-12" ng-controller="ListController">
  <div class="box box-default">
    <div class="box-header with-border">
      <h3 class="box-title">{[ __('Dynamic Data Series') ]}</h3>
    </div>
    <!-- /.box-header -->
    <div style="display: block;" class="box-body">

      <div class="col-md-12">
        <terrama2-table fields="fields" model="model" link="link" icon-properties="iconProperties" link-to-add="linkToAdd" icon="iconFn"></terrama2-table>
      </div>

    </div>
    <!-- /.box body -->
  </div>
</div> <!-- end col md 12 -->

{% endblock %}