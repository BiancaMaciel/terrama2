{% extends "../base/layout.html" %}

{% block ngApp %}ng-app="terrama2.administration.users"{% endblock %}

{% block title %} TerraMA2 {[ __('Users Handling') ]} {% endblock %}

{% block javascripts %}

<script src="/externals/angular/angular.min.js"></script>
<script src="/externals/angular/i18n-angular.min.js"></script>
<script src="/javascripts/angular/app.js"></script>
<script src="/javascripts/angular/table/table.js"></script>

<script>
    angular.module('terrama2.administration.users', ['terrama2.table'])
        .controller('ListController', ['$scope', function($scope) {
            $scope.link = function(object) {
                return "/administration/users/edit/" + object.id;
            };

            $scope.model = {[ (usersList || {})|json|safe ]};
            $scope.fields = [
              {
                key: 'name',
                as: 'Nome'
              },
              {
                key: 'email',
                as: 'E-mail'
              },
              {
                key: 'cellphone',
                as: 'Celular'
              },
              {
                key: 'username',
                as: 'Usu√°rio'
              },
              {
                key: 'administrator',
                as: 'Administrador'
              },
            ];
            $scope.iconFn = null;

            $scope.linkToAdd = "/administration/users/new";
        }]);

</script>
{% endblock %}

{% block content %}

<div class="col-md-12" ng-controller="ListController">
    <div class="box">
        <div class="box-header with-border">
            <h3 class="box-title">{[ __("Users") ]}</h3>
        </div><!-- /.box-header -->

        <div class="box-body">

            <div class="col-md-12">
                <terrama2-table fields="fields" model="model" link="link" link-to-add="linkToAdd"></terrama2-table>
            </div>

        </div><!-- /.box-body -->

    </div><!-- /.box -->

</div> <!-- end col md 12 -->

{% endblock %}
